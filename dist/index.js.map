{"mappings":"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","sources":["index.js","src/models/DB/data.json","src/controllers/controllers.js","src/models/models.js"],"sourcesContent":["const http = require('http');\r\nconst fs = require('fs');\r\nconst port = 3000;\r\nlet data = require('./src/models/DB/data.json');\r\nconst { getAllUser, createUser, deleteUserbyId,updatedUser } = require('./src/controllers/controllers');\r\n\r\nconst server = http.createServer((req, res) => {\r\n  if(req.url === '/' && req.method === 'GET'){\r\n    res.write(\"Hello!!\");\r\n    res.end();\r\n\r\n  }  else if (req.url === '/api' && req.method === 'GET') {\r\n\r\n    getAllUser(res);\r\n\r\n  } else if (req.url === '/api' && req.method === 'POST') {\r\n\r\n    createUser(req, res, fs);\r\n\r\n  } else if (req.url.match(/\\/api\\/\\w+/) && req.method === 'PUT') {\r\n\r\n    updatedUser(req,res, fs);\r\n  }\r\n  else if (req.url.match(/\\/api\\/\\w+/) && req.method === 'DELETE') {\r\n    deleteUserbyId(req, res, fs);\r\n  } else {\r\n    res.statusCode = 404;\r\n    res.setHeader('Content-Type', 'text/plain');\r\n    res.end('Not Found');\r\n  }\r\n});\r\n\r\nserver.listen(port, () => {\r\n  console.log(`Listening on port ${port}`);\r\n});\r\n","[\r\n    {\r\n        \"id\": 1,\r\n        \"name\": \"Leanne Graham\",\r\n        \"username\": \"Bret\",\r\n        \"email\": \"Sincere@april.biz\",\r\n        \"address\": {\r\n            \"street\": \"Kulas Light\",\r\n            \"suite\": \"Apt. 556\",\r\n            \"city\": \"Gwenborough\",\r\n            \"zipcode\": \"92998-3874\",\r\n            \"geo\": {\r\n                \"lat\": \"-37.3159\",\r\n                \"lng\": \"81.1496\"\r\n            }\r\n        },\r\n        \"phone\": \"1-770-736-8031 x56442\",\r\n        \"website\": \"hildegard.org\",\r\n        \"company\": {\r\n            \"name\": \"Romaguera-Crona\",\r\n            \"catchPhrase\": \"Multi-layered client-server neural-net\",\r\n            \"bs\": \"harness real-time e-markets\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 2,\r\n        \"name\": \"Ervin Howell\",\r\n        \"username\": \"Antonette\",\r\n        \"email\": \"Shanna@melissa.tv\",\r\n        \"address\": {\r\n            \"street\": \"Victor Plains\",\r\n            \"suite\": \"Suite 879\",\r\n            \"city\": \"Wisokyburgh\",\r\n            \"zipcode\": \"90566-7771\",\r\n            \"geo\": {\r\n                \"lat\": \"-43.9509\",\r\n                \"lng\": \"-34.4618\"\r\n            }\r\n        },\r\n        \"phone\": \"010-692-6593 x09125\",\r\n        \"website\": \"anastasia.net\",\r\n        \"company\": {\r\n            \"name\": \"Deckow-Crist\",\r\n            \"catchPhrase\": \"Proactive didactic contingency\",\r\n            \"bs\": \"synergize scalable supply-chains\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 3,\r\n        \"name\": \"Clementine Bauch\",\r\n        \"username\": \"Samantha\",\r\n        \"email\": \"Nathan@yesenia.net\",\r\n        \"address\": {\r\n            \"street\": \"Douglas Extension\",\r\n            \"suite\": \"Suite 847\",\r\n            \"city\": \"McKenziehaven\",\r\n            \"zipcode\": \"59590-4157\",\r\n            \"geo\": {\r\n                \"lat\": \"-68.6102\",\r\n                \"lng\": \"-47.0653\"\r\n            }\r\n        },\r\n        \"phone\": \"1-463-123-4447\",\r\n        \"website\": \"ramiro.info\",\r\n        \"company\": {\r\n            \"name\": \"Romaguera-Jacobson\",\r\n            \"catchPhrase\": \"Face to face bifurcated interface\",\r\n            \"bs\": \"e-enable strategic applications\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 4,\r\n        \"name\": \"Patricia Lebsack\",\r\n        \"username\": \"Karianne\",\r\n        \"email\": \"Julianne.OConner@kory.org\",\r\n        \"address\": {\r\n            \"street\": \"Hoeger Mall\",\r\n            \"suite\": \"Apt. 692\",\r\n            \"city\": \"South Elvis\",\r\n            \"zipcode\": \"53919-4257\",\r\n            \"geo\": {\r\n                \"lat\": \"29.4572\",\r\n                \"lng\": \"-164.2990\"\r\n            }\r\n        },\r\n        \"phone\": \"493-170-9623 x156\",\r\n        \"website\": \"kale.biz\",\r\n        \"company\": {\r\n            \"name\": \"Robel-Corkery\",\r\n            \"catchPhrase\": \"Multi-tiered zero tolerance productivity\",\r\n            \"bs\": \"transition cutting-edge web services\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 5,\r\n        \"name\": \"Chelsey Dietrich\",\r\n        \"username\": \"Kamren\",\r\n        \"email\": \"Lucio_Hettinger@annie.ca\",\r\n        \"address\": {\r\n            \"street\": \"Skiles Walks\",\r\n            \"suite\": \"Suite 351\",\r\n            \"city\": \"Roscoeview\",\r\n            \"zipcode\": \"33263\",\r\n            \"geo\": {\r\n                \"lat\": \"-31.8129\",\r\n                \"lng\": \"62.5342\"\r\n            }\r\n        },\r\n        \"phone\": \"(254)954-1289\",\r\n        \"website\": \"demarco.info\",\r\n        \"company\": {\r\n            \"name\": \"Keebler LLC\",\r\n            \"catchPhrase\": \"User-centric fault-tolerant solution\",\r\n            \"bs\": \"revolutionize end-to-end systems\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 6,\r\n        \"name\": \"Mrs. Dennis Schulist\",\r\n        \"username\": \"Leopoldo_Corkery\",\r\n        \"email\": \"Karley_Dach@jasper.info\",\r\n        \"address\": {\r\n            \"street\": \"Norberto Crossing\",\r\n            \"suite\": \"Apt. 950\",\r\n            \"city\": \"South Christy\",\r\n            \"zipcode\": \"23505-1337\",\r\n            \"geo\": {\r\n                \"lat\": \"-71.4197\",\r\n                \"lng\": \"71.7478\"\r\n            }\r\n        },\r\n        \"phone\": \"1-477-935-8478 x6430\",\r\n        \"website\": \"ola.org\",\r\n        \"company\": {\r\n            \"name\": \"Considine-Lockman\",\r\n            \"catchPhrase\": \"Synchronised bottom-line interface\",\r\n            \"bs\": \"e-enable innovative applications\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 7,\r\n        \"name\": \"Kurtis Weissnat\",\r\n        \"username\": \"Elwyn.Skiles\",\r\n        \"email\": \"Telly.Hoeger@billy.biz\",\r\n        \"address\": {\r\n            \"street\": \"Rex Trail\",\r\n            \"suite\": \"Suite 280\",\r\n            \"city\": \"Howemouth\",\r\n            \"zipcode\": \"58804-1099\",\r\n            \"geo\": {\r\n                \"lat\": \"24.8918\",\r\n                \"lng\": \"21.8984\"\r\n            }\r\n        },\r\n        \"phone\": \"210.067.6132\",\r\n        \"website\": \"elvis.io\",\r\n        \"company\": {\r\n            \"name\": \"Johns Group\",\r\n            \"catchPhrase\": \"Configurable multimedia task-force\",\r\n            \"bs\": \"generate enterprise e-tailers\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 8,\r\n        \"name\": \"Nicholas Runolfsdottir V\",\r\n        \"username\": \"Maxime_Nienow\",\r\n        \"email\": \"Sherwood@rosamond.me\",\r\n        \"address\": {\r\n            \"street\": \"Ellsworth Summit\",\r\n            \"suite\": \"Suite 729\",\r\n            \"city\": \"Aliyaview\",\r\n            \"zipcode\": \"45169\",\r\n            \"geo\": {\r\n                \"lat\": \"-14.3990\",\r\n                \"lng\": \"-120.7677\"\r\n            }\r\n        },\r\n        \"phone\": \"586.493.6943 x140\",\r\n        \"website\": \"jacynthe.com\",\r\n        \"company\": {\r\n            \"name\": \"Abernathy Group\",\r\n            \"catchPhrase\": \"Implemented secondary concept\",\r\n            \"bs\": \"e-enable extensible e-tailers\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 9,\r\n        \"name\": \"Glenna Reichert\",\r\n        \"username\": \"Delphine\",\r\n        \"email\": \"Chaim_McDermott@dana.io\",\r\n        \"address\": {\r\n            \"street\": \"Dayna Park\",\r\n            \"suite\": \"Suite 449\",\r\n            \"city\": \"Bartholomebury\",\r\n            \"zipcode\": \"76495-3109\",\r\n            \"geo\": {\r\n                \"lat\": \"24.6463\",\r\n                \"lng\": \"-168.8889\"\r\n            }\r\n        },\r\n        \"phone\": \"(775)976-6794 x41206\",\r\n        \"website\": \"conrad.com\",\r\n        \"company\": {\r\n            \"name\": \"Yost and Sons\",\r\n            \"catchPhrase\": \"Switchable contextually-based project\",\r\n            \"bs\": \"aggregate real-time technologies\"\r\n        }\r\n    },\r\n    {\r\n        \"id\": 10,\r\n        \"name\": \"Clementina DuBuque\",\r\n        \"username\": \"Moriah.Stanton\",\r\n        \"email\": \"Rey.Padberg@karina.biz\",\r\n        \"address\": {\r\n            \"street\": \"Kattie Turnpike\",\r\n            \"suite\": \"Suite 198\",\r\n            \"city\": \"Lebsackbury\",\r\n            \"zipcode\": \"31428-2261\",\r\n            \"geo\": {\r\n                \"lat\": \"-38.2386\",\r\n                \"lng\": \"57.2232\"\r\n            }\r\n        },\r\n        \"phone\": \"024-648-3804\",\r\n        \"website\": \"ambrose.net\",\r\n        \"company\": {\r\n            \"name\": \"Hoeger LLC\",\r\n            \"catchPhrase\": \"Centralized empowering task-force\",\r\n            \"bs\": \"target end-to-end models\"\r\n        }\r\n    },\r\n    {\r\n        \"message\": \"hello\",\r\n        \"movie\": \"Kick\",\r\n        \"url\": \"http://www.hello.com/\"\r\n    },\r\n    {\r\n        \"id\": 12,\r\n        \"name\": \"Ram Kumar\",\r\n        \"street\": \"Japan\",\r\n        \"suite\": \"house.6\",\r\n        \"city\": \"Una\",\r\n        \"zipcode\": \"5474563548\",\r\n        \"username\": \"Arjun\"\r\n    }\r\n]","const { createUserData, deleteUserDataById, updatedUsersData } = require(\"../models/models\");\r\nlet data = require('../models/DB/data.json');\r\n\r\nfunction getAllUser(res) {\r\n  res.write(JSON.stringify(data))\r\n  res.end();\r\n}\r\n\r\nfunction createUser(req, res, fs) {\r\n  let body = '';\r\n  let newData = [];\r\n  newData = data;\r\n  req.on('data', (chunk) => {\r\n    body += chunk.toString();\r\n  });\r\n  req.on('end', () => {\r\n    const newResource = JSON.parse(body);\r\n    data.push(newResource);\r\n    console.log(data);\r\n    createUserData(data, res, fs);\r\n  });\r\n}\r\nfunction updatedUser(req, res, fs) {\r\n  let body = '';\r\n  let updatedData = {};\r\n  req.on('data', (chunk) => {\r\n    body += chunk.toString();\r\n  });\r\n  req.on('end', () => {\r\n    updatedData = JSON.parse(body);\r\n    console.log(updatedData);\r\n\r\n    let arr = data;\r\n    let id = Number(req.url.split('/')[2]);\r\n    const newArr = arr.map((item) => {\r\n      if (item.id === id) {\r\n        return { id, ...updatedData };\r\n      }\r\n      return item;\r\n    });\r\n    console.log(newArr);\r\n\r\n    data = newArr;\r\n    updatedUsersData(res, data, fs);\r\n  });\r\n}\r\n\r\nfunction deleteUserbyId(req, res, fs) {\r\n  try {\r\n    let id = Number(req.url.split('/')[2]);\r\n    const newData = data.filter((item) => item.id !== id);\r\n    deleteUserDataById(res, newData, fs);\r\n  } catch (error) {\r\n    res.statusCode = 500;\r\n    res.setHeader('Content-Type', 'application/json');\r\n    res.end(JSON.stringify({ error: 'Internal server error' }));\r\n  }\r\n}\r\n\r\nmodule.exports = {\r\n  getAllUser, createUser, updatedUser, deleteUserbyId\r\n}","\r\n\r\nfunction createUserData(data, res, fs) {\r\n    console.log(data);\r\n    fs.writeFile('./src/models/DB/data.json', JSON.stringify(data), 'utf-8', (err) => {\r\n        if (err) {\r\n            throw err;\r\n        } else {\r\n            res.statusCode = 201;\r\n            res.end('Resource created successfully');\r\n        }\r\n    });\r\n}\r\n\r\nfunction updatedUsersData(res,data,fs) {\r\n    fs.writeFile('./src/models/DB/data.json', JSON.stringify(data), 'utf-8', (err) => {\r\n        if (err) {\r\n            res.statusCode = 500;\r\n            res.end('Error updating data in the database');\r\n        } else {\r\n            res.statusCode = 200;\r\n            res.end('Data updated successfully');\r\n        }\r\n    });\r\n}\r\n\r\nfunction deleteUserDataById(res, newData, fs) {\r\n    fs.writeFile('./src/models/DB/data.json', JSON.stringify(newData), 'utf-8', (err) => {\r\n        if (err) {\r\n            res.statusCode = 500;\r\n            res.end('Error deleting data from the database');\r\n        } else {\r\n            res.statusCode = 200;\r\n            res.setHeader('Content-Type', 'application/json');\r\n            res.end(JSON.stringify({ message: 'Data deleted successfully' }));\r\n        }\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    createUserData, updatedUsersData, deleteUserDataById\r\n}"],"names":[],"version":3,"file":"index.js.map"}